<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>DNS LOC | Ryan Gibb</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="../../style.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="shortcut icon" href="/favicon.ico">
</head>
<body>
<ul class="navbar" id="navbar">
<li>
<a href="/">Home</a>
</li>
<li>
<a href="/software.html">Software</a>
</li>
<li>
<a href="/blog/">Blog</a>
</li>
</ul>
<h1 id="dns-loc">DNS LOC</h1>
<p>The Domain Name System (DNS) has a little known ‘LOC’ resouce record (RR) defined in 1996 for encoding location information purportedly for hosts, networks, and subnets[0].</p>
<p>It encodes:</p>
<ul>
<li>Latitude</li>
<li>Longitude</li>
<li>Altidude</li>
<li>Size of the referenced sphere</li>
<li>Horizontal and vertical precision</li>
</ul>
<p>A number of suggested uses are proposed in the RFC:</p>
<ul>
<li>USENET - a distributed discussion system now ecplised by the World Wide Web - geographic flow maps.</li>
<li>A ‘visual traceroute’ application showing geographical flow of IP packet, presumably relying on router responding to both IP TTL timeouts and DNS LOC requests.</li>
<li>Network management based using LOC RRs to map hosts and routers.</li>
</ul>
<p>RFC-1876 also describes algorithms for resolving locations for domain names or IP addresses with decreasing accuracy. It still refers to classful addressing, despite being published 3 years after CIDR[1], probably because the algorithm it was adapted from was published in 1989.</p>
<p>An aside; <code>find.me.uk</code> can be used to get the location of any UK postcode. E.g.:</p>
<pre><code>$ dig loc cb30fd.find.me.uk</code></pre>
<p>There are a few notable issues with the DNS LOC RR, distinct from other DNS RRs:</p>
<ul>
<li>There’s no verification of LOC’s, see:</li>
</ul>
<pre><code>$ dig loc ryan.gibb.xyz</code></pre>
<ul>
<li>The privacy and security implications.</li>
</ul>
<blockquote>
<p>High-precision LOC RR information could be used to plan a penetration of physical security, leading to potential denial-of-machine attacks. To avoid any appearance of suggesting this method to potential attackers, we declined the opportunity to name this RR “ICBM”[0].</p>
</blockquote>
<ul>
<li>They have extremely limitted real-world usage for pratical purposes. trying to implement a visual traceroute would just not be possible, as no routers or networks have LOC records.</li>
</ul>
<blockquote>
<p>CloudFlare handles millions of DNS records; of those just 743 are LOCs[2].</p>
</blockquote>
<p>[0] - <a href="https://datatracker.ietf.org/doc/html/rfc1876">RFC-1876 A Means for Expressing Location Information in the Domain Name System</a><br />
[1] - <a href="https://datatracker.ietf.org/doc/html/rfc1518">RFC-1518-An Architecture for IP Address Allocation with CIDR</a><br />
[2] - <a href="https://blog.cloudflare.com/the-weird-and-wonderful-world-of-dns-loc-records/">The weird and wonderful world of DNS LOC records</a><br />
</p>
</body>
</html>
